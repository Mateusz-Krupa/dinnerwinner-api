drop table if exists ingredients cascade;
drop table if exists recipes cascade;
drop table if exists user_recipe cascade;
drop table if exists users cascade;
create table ingredients (id bigint generated by default as identity, name varchar(255), unit varchar(255), weight float(24) not null, recipe_id bigint, primary key (id));
create table recipes (id bigint generated by default as identity, description varchar(255), name varchar(255), primary key (id));
create table user_recipe (user_id bigint not null, recipe_id bigint not null, primary key (user_id, recipe_id));
create table users (id bigint generated by default as identity, email varchar(255), name varchar(255), rank varchar(255), primary key (id));
alter table if exists ingredients add constraint FK7p08vcn6wf7fd6qp79yy2jrwg foreign key (recipe_id) references recipes;
alter table if exists user_recipe add constraint FKmd009vkvaogv802f82wnlefo4 foreign key (recipe_id) references recipes;
alter table if exists user_recipe add constraint FK5tvd26p8exkl4gjaimejmy67c foreign key (user_id) references users;